<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"ujimatsu-chiya.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.26.0","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"vs","dark":"vs2015"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="article">
<meta property="og:title" content="Project Euler 54">
<meta property="og:url" content="https://ujimatsu-chiya.github.io/project-euler/54/index.html">
<meta property="og:site_name" content="Ujimatsu Chiya">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-04-30T02:31:35.000Z">
<meta property="article:modified_time" content="2025-12-23T05:14:07.301Z">
<meta property="article:author" content="Ujimatsu Chiya">
<meta property="article:tag" content="模拟">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://ujimatsu-chiya.github.io/project-euler/54/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://ujimatsu-chiya.github.io/project-euler/54/","path":"project-euler/54/","title":"Project Euler 54"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Project Euler 54 | Ujimatsu Chiya</title>
  

  <script src="/js/third-party/analytics/baidu-analytics.js" defer></script>
  <script async src="https://hm.baidu.com/hm.js?b51c0caaa35b7e7749207556edb4b772"></script>







  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>




  <script src="/js/third-party/fancybox.js" defer></script>



  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Ujimatsu Chiya</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-project-euler"><a href="/project-euler/" rel="section"><i class="fa fa-align-justify fa-fw"></i>Project Euler</a></li><li class="menu-item menu-item-算法导论"><a href="/introduction-to-algorithms/" rel="section"><i class="fa-solid fa-question fa-fw"></i>算法导论</a></li><li class="menu-item menu-item-友情链接"><a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友情链接</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#project-euler-54"><span class="nav-number">1.</span> <span class="nav-text">Project Euler 54</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE"><span class="nav-number">1.1.</span> <span class="nav-text">题目</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#poker-hands"><span class="nav-number">1.1.1.</span> <span class="nav-text">Poker hands</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">1.2.</span> <span class="nav-text">解决方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81"><span class="nav-number">1.3.</span> <span class="nav-text">代码</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ujimatsu Chiya"
      src="/images/chiya.png">
  <p class="site-author-name" itemprop="name">Ujimatsu Chiya</p>
  <div class="site-description" itemprop="description">Ujimatsu Chiya 的博客还在建造当中，什么都会整一些上来哦</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">681</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Ujimatsu-Chiya" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Ujimatsu-Chiya" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://leetcode.cn/u/ujimatsu_chiya/" title="Leetcode → https:&#x2F;&#x2F;leetcode.cn&#x2F;u&#x2F;ujimatsu_chiya&#x2F;" rel="noopener me" target="_blank"><i class="fa custom leetcode fa-fw"></i>Leetcode</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.xiaohongshu.com/user/profile/6423968900000000110225fd" title="Xiaohongshu → https:&#x2F;&#x2F;www.xiaohongshu.com&#x2F;user&#x2F;profile&#x2F;6423968900000000110225fd" rel="noopener me" target="_blank"><i class="fa custom xiaohongshu fa-fw"></i>Xiaohongshu</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ujimatsu-chiya.github.io/project-euler/54/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/chiya.png">
      <meta itemprop="name" content="Ujimatsu Chiya">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ujimatsu Chiya">
      <meta itemprop="description" content="Ujimatsu Chiya 的博客还在建造当中，什么都会整一些上来哦">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Project Euler 54 | Ujimatsu Chiya">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Project Euler 54
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-04-30 10:31:35" itemprop="dateCreated datePublished" datetime="2022-04-30T10:31:35+08:00">2022-04-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-12-23 13:14:07" itemprop="dateModified" datetime="2025-12-23T13:14:07+08:00">2025-12-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Project-Euler/" itemprop="url" rel="index"><span itemprop="name">Project Euler</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><escape><span id="more"></span></escape></p>
<h1 id="project-euler-54">Project Euler 54</h1>
<h2 id="题目">题目</h2>
<h3 id="poker-hands">Poker hands</h3>
<p>In the card game poker, a hand consists of five cards and are ranked,
from lowest to highest, in the following way:</p>
<ul>
<li><strong>High Card</strong>: Highest value card.</li>
<li><strong>One Pair</strong>: Two cards of the same value.</li>
<li><strong>Two Pairs</strong>: Two different pairs.</li>
<li><strong>Three of a Kind</strong>: Three cards of the same
value.</li>
<li><strong>Straight</strong>: All cards are consecutive values.</li>
<li><strong>Flush</strong>: All cards of the same suit.</li>
<li><strong>Full House</strong>: Three of a kind and a pair.</li>
<li><strong>Four of a Kind</strong>: Four cards of the same value.</li>
<li><strong>Straight Flush</strong>: All cards are consecutive values of
same suit.</li>
<li><strong>Royal Flush</strong>: Ten, Jack, Queen, King, Ace, in same
suit.</li>
</ul>
<p>The cards are valued in the order:2, 3, 4, 5, 6, 7, 8, 9, 10, Jack,
Queen, King, Ace.</p>
<p>If two players have the same ranked hands then the rank made up of
the highest value wins; for example, a pair of eights beats a pair of
fives (see example 1 below). But if two ranks tie, for example, both
players have a pair of queens, then highest cards in each hand are
compared (see example 4 below); if the highest cards tie then the next
highest cards are compared, and so on.</p>
<p>Consider the following five hands dealt to two players:</p>
<table>
<thead>
<tr>
<th>Hand</th>
<th>Player 1</th>
<th>Player 2</th>
<th>Winner</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>5H 5C 6S 7S KD</td>
<td>2C 3S 8S 8D TD</td>
<td>Player 2</td>
</tr>
<tr>
<td></td>
<td>Pair of Fives</td>
<td>Pair of Eights</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>5D 8C 9S JS AC</td>
<td>2C 5C 7D 8S QH</td>
<td>Player 1</td>
</tr>
<tr>
<td></td>
<td>Highest card Ace</td>
<td>Highest card Queen</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>2D 9C AS AH AC</td>
<td>3D 6D 7D TD QD</td>
<td>Player 2</td>
</tr>
<tr>
<td></td>
<td>Three Aces</td>
<td>Flush with Diamonds</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>4D 6S 9H QH QC</td>
<td>3D 6D 7H QD QS</td>
<td>Player 1</td>
</tr>
<tr>
<td></td>
<td>Pair of Queens</td>
<td>Pair of Queens</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Highest card Nine</td>
<td>Highest card Seven</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>2H 2D 4C 4D 4S</td>
<td>3C 3D 3S 9S 9D</td>
<td>Player 1</td>
</tr>
<tr>
<td></td>
<td>Full House</td>
<td>Full House</td>
<td></td>
</tr>
<tr>
<td></td>
<td>with Three Fours</td>
<td>with Three Threes</td>
<td></td>
</tr>
</tbody>
</table>
<p>The file, <a href="../resources/p054_poker.txt">poker.txt</a>,
contains one-thousand random hands dealt to two players. Each line of
the file contains ten cards (separated by a single space): the first
five are Player 1’s cards and the last five are Player 2’s cards. You
can assume that all hands are valid (no invalid characters or repeated
cards), each player’s hand is in no specific order, and in each hand
there is a clear winner.</p>
<p>How many hands does Player 1 win?</p>
<h2 id="解决方案">解决方案</h2>
<p>本体属于细节题，参考代码和注释。
基本思想是先判断手牌的等级，然后再计算出当前等级下的手牌最大的那张。</p>
<h2 id="代码">代码</h2>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断5张牌是否同花。</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">same_suit</span>(<span class="params">p</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        <span class="keyword">if</span> p[i][<span class="number">1</span>] != p[i + <span class="number">1</span>][<span class="number">1</span>]:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断5张牌是否一个顺子。</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">order</span>(<span class="params">p</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">ord</span>(p[i + <span class="number">1</span>][<span class="number">0</span>]) - <span class="built_in">ord</span>(p[i][<span class="number">0</span>]) != <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_level</span>(<span class="params">p</span>):</span><br><span class="line">    <span class="comment"># 将5张牌的牌面收集起来。</span></span><br><span class="line">    r = p[<span class="number">0</span>][<span class="number">0</span>] + p[<span class="number">1</span>][<span class="number">0</span>] + p[<span class="number">2</span>][<span class="number">0</span>] + p[<span class="number">3</span>][<span class="number">0</span>] + p[<span class="number">4</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> same_suit(p) <span class="keyword">and</span> order(p):</span><br><span class="line">        <span class="comment"># 同花大顺</span></span><br><span class="line">        <span class="keyword">if</span> p[<span class="number">4</span>][<span class="number">0</span>] == <span class="string">&#x27;M&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> p, p[<span class="number">4</span>], <span class="number">10</span></span><br><span class="line">        <span class="comment"># 同花顺</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> p, p[<span class="number">4</span>], <span class="number">9</span></span><br><span class="line">    <span class="comment"># 四条</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">0</span>] == r[<span class="number">1</span>] == r[<span class="number">2</span>] == r[<span class="number">3</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">0</span>:<span class="number">4</span>], p[<span class="number">3</span>], <span class="number">8</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">1</span>] == r[<span class="number">2</span>] == r[<span class="number">3</span>] == r[<span class="number">4</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">1</span>:<span class="number">5</span>], p[<span class="number">4</span>], <span class="number">8</span></span><br><span class="line">    <span class="comment"># 葫芦</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">0</span>] == r[<span class="number">1</span>] == r[<span class="number">2</span>] <span class="keyword">and</span> r[<span class="number">3</span>] == r[<span class="number">4</span>] <span class="keyword">or</span> r[<span class="number">2</span>] == r[<span class="number">3</span>] == r[<span class="number">4</span>] <span class="keyword">and</span> r[<span class="number">0</span>] == r[<span class="number">1</span>]:</span><br><span class="line">        <span class="keyword">return</span> p, p[<span class="number">2</span>], <span class="number">7</span></span><br><span class="line">    <span class="comment"># 同花</span></span><br><span class="line">    <span class="keyword">elif</span> same_suit(p):</span><br><span class="line">        <span class="keyword">return</span> p, p[<span class="number">4</span>], <span class="number">6</span></span><br><span class="line">    <span class="comment"># 顺子</span></span><br><span class="line">    <span class="keyword">elif</span> order(p):</span><br><span class="line">        <span class="keyword">return</span> p, p[<span class="number">4</span>], <span class="number">5</span></span><br><span class="line">    <span class="comment"># 三条</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">0</span>] == r[<span class="number">1</span>] == r[<span class="number">2</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">0</span>:<span class="number">3</span>], p[<span class="number">2</span>], <span class="number">4</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">3</span>] == r[<span class="number">1</span>] == r[<span class="number">2</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">1</span>:<span class="number">4</span>], p[<span class="number">2</span>], <span class="number">4</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">3</span>] == r[<span class="number">4</span>] == r[<span class="number">2</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">2</span>:<span class="number">5</span>], p[<span class="number">2</span>], <span class="number">4</span></span><br><span class="line">    <span class="comment"># 两对</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">0</span>] == r[<span class="number">1</span>] <span class="keyword">and</span> r[<span class="number">2</span>] == r[<span class="number">3</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">0</span>:<span class="number">4</span>], p[<span class="number">3</span>], <span class="number">3</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">0</span>] == r[<span class="number">1</span>] <span class="keyword">and</span> r[<span class="number">3</span>] == r[<span class="number">4</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">0</span>:<span class="number">2</span>] + p[<span class="number">3</span>:<span class="number">5</span>], p[<span class="number">3</span>], <span class="number">3</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">1</span>] == r[<span class="number">2</span>] <span class="keyword">and</span> r[<span class="number">3</span>] == r[<span class="number">4</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">1</span>:<span class="number">5</span>], p[<span class="number">3</span>], <span class="number">3</span></span><br><span class="line">    <span class="comment"># 一对</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">0</span>] == r[<span class="number">1</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">0</span>:<span class="number">2</span>], p[<span class="number">1</span>], <span class="number">2</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">1</span>] == r[<span class="number">2</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">1</span>:<span class="number">3</span>], p[<span class="number">1</span>], <span class="number">2</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">2</span>] == r[<span class="number">3</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">2</span>:<span class="number">4</span>], p[<span class="number">3</span>], <span class="number">2</span></span><br><span class="line">    <span class="keyword">elif</span> r[<span class="number">3</span>] == r[<span class="number">4</span>]:</span><br><span class="line">        <span class="keyword">return</span> p[<span class="number">3</span>:<span class="number">5</span>], p[<span class="number">3</span>], <span class="number">2</span></span><br><span class="line">    <span class="comment"># 单张</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> [p[<span class="number">4</span>]], p[<span class="number">4</span>], <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cmp</span>(<span class="params">p1, p2</span>):</span><br><span class="line">    <span class="comment"># 三元组(x, y, z)分别表示：真实用上比较等级的牌；真实用上比较等级的牌中，牌面最大的那张；等级数</span></span><br><span class="line">    x1, y1, z1 = get_level(p1)</span><br><span class="line">    x2, y2, z2 = get_level(p2)</span><br><span class="line">    <span class="comment"># 如果等级不同，直接判断等级。</span></span><br><span class="line">    <span class="keyword">if</span> z1 &gt; z2:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> z1 &lt; z2:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="comment"># 如果等级相同，直接由相同数量最多的那张牌进行牌面比较（QQQQA &lt; KKKK2，2244A &lt; 3355K）。</span></span><br><span class="line">    <span class="keyword">if</span> y1[<span class="number">0</span>] &gt; y2[<span class="number">0</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> y1[<span class="number">0</span>] &lt; y2[<span class="number">0</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="comment"># 否则，就用剩下的牌的最大牌面比大小。</span></span><br><span class="line">    l1 = <span class="built_in">list</span>(<span class="built_in">set</span>(p1) - <span class="built_in">set</span>(x1))</span><br><span class="line">    l2 = <span class="built_in">list</span>(<span class="built_in">set</span>(p2) - <span class="built_in">set</span>(x2))</span><br><span class="line">    l1.sort()</span><br><span class="line">    l2.sort()</span><br><span class="line">    <span class="keyword">if</span> l1[-<span class="number">1</span>][<span class="number">0</span>] &gt; l2[-<span class="number">1</span>][<span class="number">0</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ls = [s[:-<span class="number">1</span>].split(<span class="string">&#x27; &#x27;</span>) <span class="keyword">for</span> s <span class="keyword">in</span> <span class="built_in">open</span>(<span class="string">&#x27;p054_poker.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>).readlines()]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 牌面大小重新映射，牌面越大，字母序号越大。</span></span><br><span class="line">mp = &#123;<span class="string">&#x27;2&#x27;</span>: <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;3&#x27;</span>: <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;4&#x27;</span>: <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;5&#x27;</span>: <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;6&#x27;</span>: <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;7&#x27;</span>: <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;8&#x27;</span>: <span class="string">&#x27;G&#x27;</span>, <span class="string">&#x27;9&#x27;</span>: <span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;T&#x27;</span>: <span class="string">&#x27;I&#x27;</span>, <span class="string">&#x27;J&#x27;</span>: <span class="string">&#x27;J&#x27;</span>, <span class="string">&#x27;Q&#x27;</span>: <span class="string">&#x27;K&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;K&#x27;</span>: <span class="string">&#x27;L&#x27;</span>, <span class="string">&#x27;A&#x27;</span>: <span class="string">&#x27;M&#x27;</span>&#125;</span><br><span class="line">ans = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> ls:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(v)):</span><br><span class="line">        v[i] = mp[v[i][<span class="number">0</span>]] + v[i][<span class="number">1</span>]</span><br><span class="line">    p1, p2 = v[:<span class="number">5</span>], v[<span class="number">5</span>:]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 两个人的手牌先按牌面大小排好序。</span></span><br><span class="line">    p1.sort()</span><br><span class="line">    p2.sort()</span><br><span class="line">    ans += cmp(p1, p2)</span><br><span class="line"><span class="built_in">print</span>(ans)</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>请我一杯咖啡吧！</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="Ujimatsu Chiya 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.png" alt="Ujimatsu Chiya 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>Ujimatsu Chiya
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://ujimatsu-chiya.github.io/project-euler/54/" title="Project Euler 54">https://ujimatsu-chiya.github.io/project-euler/54/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/%E6%A8%A1%E6%8B%9F/" rel="tag"><i class="fa fa-tag"></i> 模拟</a>
          </div>

        

    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2022 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Ujimatsu Chiya</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">1.3m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">19:52</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div><!-- 页面动态线条-->
<script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://lib.baomitu.com/canvas-nest.js/1.0.1/canvas-nest.js"></script>
<!-- 页面点击小红心
<script type="text/javascript" src="/js/click-love.js" />-->

<span id="sitetime"></span>
<script language=javascript>
function siteTime(){
    window.setTimeout("siteTime()", 1000);
    let seconds = 1000;
    let minutes = seconds * 60;
    let hours = minutes * 60;
    let days = hours * 24;
    let years = days * 365;
    let create_day = new Date("2022-03-25T13:14:23Z");
    let today = new Date();
    let awesome = "<i class=\"fa-solid fa-clock\"></i> "

    let diff = today-create_day;
    let diffSeconds = Math.floor(diff/seconds%60);
    let diffMinutes = Math.floor(diff/minutes%60);
    let diffHours = Math.floor(diff/hours%24);
    let diffDays = Math.floor(diff/days%365);
    let diffYears = Math.floor(diff/years);

    document.getElementById("sitetime").innerHTML=`自 ${create_day.getFullYear()} 年 ${create_day.getMonth() + 1} 月 ${create_day.getDate()} 日建立以来，本网站已运行： ${awesome} ${diffYears} 年 ${diffDays} 天 ${diffHours} 时 ${diffMinutes} 分 ${diffSeconds} 秒`;
}
siteTime();
</script>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"Ujimatsu-Chiya/Ujimatsu-Chiya.github.io-comment","issue_term":"pathname","theme":"github-light","crossorigin":"anonymous"}</script>
<script src="/js/third-party/comments/utterances.js" defer></script>

</body>
</html>
