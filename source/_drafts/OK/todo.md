## Q237

证明。

证明：令$S(n)$为$4\times n$格子上以$(1,1)$为起点，以$(2,1)$为终点的路径数，令$U(n)$为中间两行的最左边两个格子中，构成一个字母C的路径数（如下图）。

那么有如下三个递推式：

$$\begin{aligned}
S(n) &= S(n-1) + T(n-1)\\
T(n) &= T(n-2) + 2S(n-1) + U(n) \\
U(n) &= 2S(n-2) + U(n-1) 
\end{aligned}$$

对于$S(n)$，一种转移来自$S(n-1)$，一种来自$T(n-1)$，如下面的示意图：

注意到，对于属于$S$的情况，格子$(3,1)$和格子$(4,1)$一定是相连的。对于左边的情况，断裂原本相连的线（如图虚线连线），往左延伸一个格子后再重新连回。右边的情况则是两端直接向后延伸。

可以发现，两家店中，Gammon Joint和Champagne Truffles的数量分别都是Christmas Cake的$2$被和$3$倍。

因此，枚举$m$时，不需要考虑这Gammon Joint和Champagne Truffles两种物品。但是计算总数时，Christmas Cake的数量要考虑成是$6$倍的。

## Q208

对于第$i$个初始方向而言，机器人的移动位置向量为$dx_i=\cos\dfrac{(i+1)2\pi}{5}-\cos\dfrac{i\cdot 2\pi}{5},dy_i=\sin\dfrac{(i+1)2\pi}{5}-\sin\dfrac{i\cdot 2\pi}{5}$

那么$\sum_{i=0}^4dx_i=0,\sum_{i=0}^4dy_i=0$，每一个方向在序列中都恰好出现相同的次数，机器人才可能返回原点。

## Q202

也就是说，现在问题转化为了如下形式：有多少个坐标$(x,y)$，满足

1. $y\equiv x(\mod 3)$
2. $\gcd(x,y)=1$
3. $2x+2y-3=N,$即$x+y=\dfrac{N+3}{2}$
4. $x,y>0$

因此，如果$N$为偶数，那么答案为$0$。

令$M=\dfrac{N+3}{2}$，问题进一步转化成：有多少个数$x$，满足以下条件：

1. $\gcd(x,M-x)=1$，通过辗转相除法，可以改写成$\gcd(x,M)=1$
2. $1\le x\le M$
3. $2x\equiv M(\mod 3)$

不难发现，当$M$是$3$的倍数时，条件1和3是矛盾的，此时答案为$0$，因此只考虑$M$为非$3$的倍数时的答案。